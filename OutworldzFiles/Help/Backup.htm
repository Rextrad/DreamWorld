<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helvetica;
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
@font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Calibri Light";
	panose-1:2 15 3 2 2 2 4 3 2 4;}
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
@font-face
	{font-family:"Segoe UI";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:"\@SimSun";
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:"Beyond Wonderland";
	panose-1:2 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Open Sans";}
@font-face
	{font-family:"\@MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-name:"Normal\,v";
	margin-top:5.0pt;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:10.0pt;
	font-family:"Verdana",sans-serif;}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:5.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	line-height:115%;
	background:#5B9BD5;
	border:none;
	padding:0in;
	font-size:11.0pt;
	font-family:"Verdana",sans-serif;
	color:white;
	text-transform:uppercase;
	letter-spacing:.75pt;
	font-weight:normal;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:5.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	line-height:115%;
	background:#DEEAF6;
	border:none;
	padding:0in;
	font-size:10.0pt;
	font-family:"Verdana",sans-serif;
	text-transform:uppercase;
	letter-spacing:.75pt;
	font-weight:normal;}
a:link, span.MsoHyperlink
	{font-family:"Times New Roman",serif;
	color:blue;
	text-decoration:underline;}
strong
	{font-family:"Times New Roman",serif;}
p
	{margin-right:0in;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Times New Roman",serif;
	color:white;
	text-transform:uppercase;
	letter-spacing:.75pt;
	background:#5B9BD5;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	text-transform:uppercase;
	letter-spacing:.75pt;
	background:#DEEAF6;}
.MsoChpDefault
	{font-family:"Calibri",sans-serif;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US link=blue vlink="#954F72" style='word-wrap:break-word'>

<div class=WordSection1>

<div style='border:solid #5B9BD5 3.0pt;padding:0in 0in 0in 0in;background:#5B9BD5'>

<h1><a name="OLE_LINK2">Backup - Autobackup </a></h1>

</div>

<p class=MsoNormal>The AutoBackup module periodically saves data to a folder. </p>

<p class=MsoNormal><span style='font-size:10.5pt;line-height:115%;font-family:
"Open Sans",sans-serif;color:#373737'><img width=411 height=384
src="Backup_files/image001.png"></span></p>

<p class=MsoNormal>When AutoBackup is enabled, Opensim will make various backups
of each region. For example, Opensim will make OAR after Opensim has run for <b>Interval</b>
time. If there are checkboxes set in the [Backup Type], then those files will
be backup up, too. The files will appear in the Outworldzfiles\AutoBackup
folder. </p>

<p class=MsoNormal><b>Keep for Days</b> will remove any folder older than this period.
</p>

<p class=MsoNormal><b>Save To Folder: </b>You can click on “AutoBackup” folder
name, or the folder Icon, and set a different location.</p>

<p class=MsoNormal><b>CAUTION:</b>  These backups may use a great deal of room!
<b>It is critical to save them to a different drive</b> so that a full drive
does not crash your Database and Opensim system. DreamGrid will check for free
disk space and warn you if you are low. It will freeze all Opensim Region
activity if disk space gets low. If the disk space is &gt; 100 MB, it will
resume operation. </p>

<p class=MsoNormal><img width=399 height=324 src="Backup_files/image002.png"></p>

<p class=MsoNormal><b>Backup Settings</b> saves the Settings.INI files in a Zip.</p>

<p class=MsoNormal><b>Backup Region INI files</b> saves all Region INI files
from OutworldzFiles\Opensim\Bin\Regions to a Zip.</p>

<p class=MsoNormal><b>Backup FSAssets folder</b> will make a copy of all the
(Very Large) FsAsset folder.</p>

<p class=MsoNormal><b>Backup Custom Web Pages</b> are the two Wifi-Custom folders.</p>

<p class=MsoNormal><b>Backup Oars</b> will manually backup all regions if the
Rub Backup Now button is pressed. It does not boot them again on a timer. </p>

<p class=MsoNormal><b>Backup IARs </b>will start a new region named Temp ands
back up all IARs one at a time. This can take a Very Long Time.</p>

<p class=MsoNormal><b>Backup Custom Web Pages</b> are the two Wifi-Custom
folders.</p>

<p class=MsoNormal><b>Backup MySQL Data Folder</b> will back up the main
database. You need a copy of FsAssets, too!</p>

<p class=MsoNormal><b>Robocopy</b>:  The <b>FSASSETS</b> system uses robocopy,
a built in DOS program for FsAssets. It follows two rules for visibility that
you set for regions, such as Always Show or Never Show. It runs with the
following switches:<br>
<br>
<a name="_Hlk90673964"></a></p>

<p class=MsoNormal>/E - Everything including empty folders.</p>

<p class=MsoNormal>/M –Modified files are copied that have the A bit set, then
clears the bit.</p>

<p class=MsoNormal>/IM - Include Modified files that have changed times.</p>

<p class=MsoNormal>/J – Use Unbuffered IO for large files.</p>

<p class=MsoNormal><br>
Robocopy will also add this LFSM switch on Windows 10. It will not do so on
Server or Windows 7.<br>
<br>
/LFSM:50M – Will work in low free space mode, enabling copy pause and resume. Robocopy
will pause whenever a file copy would cause the destination volume's free space
to go below 50 Megabytes.</p>

<p class=MsoNormal><br>
See the manual on “Manual Backups” for ways to back up manually.</p>

<p class=MsoNormal><a name="_Hlk90674227">&nbsp;</a></p>

<p class=MsoNormal><span style='font-size:10.5pt;line-height:115%;font-family:
"Open Sans",sans-serif;color:#373737'>This is what DreamGrid backs up if you
check all the boxes:</span></p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='color:black'><span style='color:windowtext'>OutworldzFiles\Apache\htdocs\jOpensim\
     folder</span><br>
     <span style='color:windowtext'>OutworldzFiles\Opensim\WifiPages-Custom\
     folder</span></li>
 <li class=MsoNormal style='color:black'><span style='color:windowtext'>OutworldzFiles\Settings.ini
     file</span></li>
 <li class=MsoNormal style='color:black'><span style='color:windowtext'>OutworldzFiles\XYSettings.ini
     file</span></li>
 <li class=MsoNormal style='color:black'><span style='color:windowtext'>OutworldzFiles\Opensim\bin\LocalUserStatistics.db
     database of traffic and viewers.</span></li>
 <li class=MsoNormal style='color:black'><span style='color:windowtext'>OutworldzFiles\Photo.png
     Custom Hyperica Photo</span></li>
 <li class=MsoNormal style='color:black'><span style='color:windowtext'>OutworldzFiles\NewBlack.png
     Custom Theme</span></li>
 <li class=MsoNormal style='color:black'><span style='color:windowtext'>OutworldzFiles\NewWhite.png
     Custom Theme</span></li>
 <li class=MsoNormal>OutworldzFiles\NewCustom.png Custom Theme</li>
 <li class=MsoNormal>OutworldzFiles\Opensim\bin\Regions All the region Ini
     files</li>
 <li class=MsoNormal>Mysql Robust as .sql a portable database of Robust</li>
 <li class=MsoNormal>Mysql Opensim as .sql a portable database of Opensim
     regions</li>
 <li class=MsoNormal>Joomla as .sql a portable database of joomla data.</li>
 <li class=MsoNormal>Opensim\bin\FSassets ALL the assets, which must be backed
     up last on a live machine.</li>
</ul>

<span style='font-size:10.0pt;line-height:115%;font-family:"Verdana",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span style='font-size:9.5pt;line-height:115%;font-family:
Consolas;color:#A31515'>&nbsp;</span></p>

<div style='border:solid #DEEAF6 3.0pt;padding:0in 0in 0in 0in;background:#DEEAF6'>

<h2><span style='color:black'>BACKUP TO EXTERNAL Media:</span></h2>

</div>

<p class=MsoNormal>Get a USB drive, preferably USB 3.0 plug it into a Blue or
Teal colored jack for fastest speed. If you do not have the colored jacks, use
any Black-colored jack. Format it for NTFS, with a 4096-sector size. ExFAT is a
standard format that works on all machines, including Mac’s, Linux, and
Windows. <b>You must select a smaller sector size in ExFAT,</b> or you will
waste most of the space! A smaller sector size lets you put more data on the
disk.</p>

<div style='border:solid #DEEAF6 3.0pt;padding:0in 0in 0in 0in;background:#DEEAF6'>

<h2><span style='color:black'>How to format an <b><u>external</u></b> drive:</span></h2>

</div>

<p class=MsoNormal><br>
You can easily change an external hard drive to NTFS or ExFAT file system
via&nbsp;<span style='font-family:"Arial",sans-serif'>Disk Management</span>&nbsp;by
following the steps listed below.</p>

<p class=MsoNormal>1. Connect the external hard drive to your computer and make
sure that it is detected by Windows.</p>

<p class=MsoNormal>2. Press<strong><span style='font-family:"Arial",sans-serif;
color:black'>&nbsp;Windows</span></strong>&nbsp;+<strong><span
style='font-family:"Arial",sans-serif;color:black'>&nbsp;X</span></strong>&nbsp;at
the same time and choose “<strong><span style='font-family:"Arial",sans-serif;
color:black'>Disk Management</span></strong>”.</p>

<p class=MsoNormal>3. Right-click the hard drive partition that you intend to
format and choose “<strong><span style='font-family:"Arial",sans-serif;
color:black'>Delete Volume</span></strong>” to delete the partition.</p>

<p class=MsoNormal>4. Right-click the unallocated disk space and choose “<strong><span
style='font-family:"Arial",sans-serif;color:black'>New simple volume”</span></strong>&nbsp;and
do like the prompts.</p>

<p class=MsoNormal>5. In the Format Partition window, set the file system as and
click “<strong><span style='font-family:"Arial",sans-serif;color:black'>Next</span></strong>”
and “<strong><span style='font-family:"Arial",sans-serif;color:black'>Finish</span></strong>”
to start the operation.</p>

<p class=MsoNormal>&nbsp;</p>

<p style='margin:0in;line-height:19.5pt;background:white;vertical-align:baseline'><a
href="https://www.diskpart.com/articles/images/format-hard-drive-to-exfat-0310/choose-exfat-file-system.jpg"
title="&quot;Choose exFAT File System&quot; t "><span style='font-family:"Arial",sans-serif;
color:#249EFC;text-decoration:none'><img border=0 width=500 height=394
id="Picture 5" src="Backup_files/image003.jpg" alt="Choose exFAT File System"></span></a></p>

<p class=MsoNormal>&nbsp;</p>

<div style='border:solid #DEEAF6 3.0pt;padding:0in 0in 0in 0in;background:#DEEAF6'>

<h2><span style='color:black'>Backup up to the external drive</span></h2>

</div>

<p class=MsoNormal>Set a path to this drive in AutoBackup. Here I have my dev
system set for my E: drive, a 14 TB Western Digital Easystore USB 3.0 HDD. Got
it on Black Friday for $189 at Best Buy. These are usually the best deals in
the USA. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><img border=0 width=361 height=321 id="Picture 1"
src="Backup_files/image004.png"
alt="Graphical user interface, application&#13;&#10;&#13;&#10;Description automatically generated"><br>
<br>
</p>

<p class=MsoNormal>Set it for a week’s worth of backups. The default was 1 day,
the default now is 3 days. But that applies only to new grids.</p>

<p class=MsoNormal>Now click <b>Backup Type</b></p>

<p class=MsoNormal><img border=0 width=250 height=275 id="Picture 2"
src="Backup_files/image005.png"
alt="Graphical user interface, application&#13;&#10;&#13;&#10;Description automatically generated"></p>

<p class=MsoNormal>Check all the boxes.</p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal>A FULL backup is to check all boxes except Backup OARS.</li>
 <li class=MsoNormal>Backup OARS is an effective way to get to the regions in a
     portable way, but this leaves out your users, your inventory, settings,
     and other important things.</li>
 <li class=MsoNormal>To get an immediate backup of your grid, manually, click
     on the button that says: Run Backup Now.</li>
</ul>

<p class=MsoNormal> </p>

<p class=MsoNormal>Click <b>Run Backup Now.</b></p>

<p class=MsoNormal><b>This may take days to finish because FSASSETS is going to
be HUGE and will grow every time you touch the grid.<br>
</b><br>
Now run the grid a week and check on the disk space. If there are lots left
over, make it hold 14 days and check again in another week. When the disk looks
like it will not make it a week, plug it into your concrete and steel Fire Safe
that is bolted to the floor and go buy another USB hard drive. Your need TWO
backups, and one MUST be offline.<br>
<br>
This is only steps 3 and 2 of the 3:2:1 Backup method. You should put at least
the most recent copy in the cloud to handle the ‘1’ part.   There are many
solutions such as Google Drive, Microsoft’s OneDrive, or iDrive. Forget
Dropbox. It crashes on large zips and lots of files, such as bin\fsassets. Google
is scanning your files and will call the police on you if they find something
suspicious. I have not tried OneDrive even though I have a free 1T with my 365
subscriptions. I know that iDrive works well for some and never crashes.</p>

<p class=MsoNormal>IAR AND OAR ARE NOT BACKUPS OF YOUR GRID</p>

<p class=MsoNormal>IARS are portable. They have that going for them. You can
easily back them all up. Just look in Content under IARs, click the Backup All
IARS link and choose a region that will be remarkably busy for perhaps several
days or longer. I did 909 people recently. Works great. Used up 156 GB of disk.
Spotted one person who had 32 GB of inventory.</p>

<p class=MsoNormal>IARS are backups of <u>portions</u> of one inventory. IARs have
no usernames, passwords, no UUIDs and until the latest opensim (as of
yesterday) no alphas for your avatars. IARs cannot reconstruct Appearances. The
UUIDs change when an IAR load, so the appearance links will be broken. You can
easily repair them, but it is tedious. They are good for moving to another grid.
You can use the Diva Wifi Panel on any DreamGrid to populate your IAR from
another grid. IARs   have their uses but they are not a full backup.</p>

<p class=MsoNormal>Same goes for OARS. Very handy. But not a backup of a
region. What size is the region? X or Y Engine? That information is in
bin\regions, which DreamGrid backs that up for you.</p>

<p class=MsoNormal>Mysql\data and bin\fsassets are the things you must have to
get a full backup to restore a grid. FSAssets will be huge. Millions of files. Mysql
must be backed up before you backup FSAssets as it points to the files. If done
in the wrong order on a live grid, you will lose assets if you try to restore
from the FsAsset + MySQL backup. Do it in the order of MySQL, then Fsassets.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Links:</p>

<p class=MsoNormal><a href="http://opensimulator.org/wiki/Load_Oar_0.9.0%2B">http://opensimulator.org/wiki/Load_Oar_0.9.0%2B</a></p>

</div>

</body>

</html>
